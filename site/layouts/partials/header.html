<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>{{ .Title }}</title>

        {{ if .Site.Params.favicon }}
            <link rel="icon" href="{{ .Site.Params.favicon | absURL }}">
        {{ end }}
        
        {{ partial "css" . }} 
        
        {{ .Hugo.Generator }}

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123683528-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-123683528-1');
        </script>
    </head>

    {{ if .Site.Params.MathJax | default false }}
    <!-- adds MathJax support -->
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    {{ end }}

    <body class="flex flex-column items-stretch tc bg-white">
        <nav class="cf pv2 bg-black-05 bt bw2 b--accent">
            <div class="fl dib pl2">
                <div class="dib ph1 ph2-ns">
                    <a class="link dim f4 black grumpycorp" href="/">GrumpyCorp</a>
                </div>

                <div class="dn dib-ns ph1 ph2-ns nav-hide-child"> <!-- Drop on small screens -->
                    <a class="link dim f5 black-60" href="/about/grumpycorp">About</a>
                    <div class="nav-child absolute pl0 bg-white ba b--black-20">
                        {{ $pages := first 5 (where .Site.RegularPages.ByDate.Reverse "Type" "about") }}
                        {{ range $pages }}
                            <div class="pa2 tl">
                                <a class="link dim f5 black-60" href="{{ .Permalink }}">
                                    {{ if and (isset .Params "icon") (.Params.Icon) }}
                                        <div class="dib accent o-60"><i class="{{ .Params.Icon }}"></i></div>
                                    {{ end }}
                                    {{ .Title }} - {{ .Description }}
                                </a>
                            </div>
                        {{ end }}
                    </div>
                </div>

                <div class="dib ph1 ph2-ns nav-hide-child">
                    <a class="link dim f5 black-60" href="/post">Posts</a>
                    <div class="nav-child absolute pl0 bg-white ba b--black-20">
                        {{ $pages := first 5 (where .Site.RegularPages.ByDate.Reverse "Type" "post") }}
                        {{ range $pages }}
                            <div class="pa2 tl">
                                <a class="link dim f5 black-60" href="{{ .Permalink }}">
                                    {{ if and (isset .Params "icon") (.Params.Icon) }}
                                        <div class="dib accent o-60"><i class="{{ .Params.Icon }}"></i></div>
                                    {{ end }}
                                    {{ .Title }}
                                </a>
                                <small class="accent">{{ .Date.Format (.Site.Params.dateFormat | default "January 2, 2006") }}</small>
                            </div>
                        {{ end }}
                        <div class="ph2 pv3 tl w-100 bt b--black-20">
                            <a class="link dim f5 fw5 black-60" href="/post">
                                <div class="dib accent o-40"><i class="fas fa-angle-double-right"></i></div>
                                All posts
                            </a>
                        </div>
                    </div>
                </div>

                <div class="dib ph1 ph2-ns nav-hide-child">
                    <a class="link dim f5 black-60" href="/project">Projects</a>
                    <div class="nav-child absolute pl0 bg-white ba b--black-20">
                        {{ $pages := first 5 (where .Site.RegularPages.ByDate.Reverse "Type" "project") }}
                        {{ range $pages }}
                            <div class="pa2 tl">
                                <a class="link dim f5 black-60" href="{{ index .Params "repo" | default .Permalink }}">
                                    {{ if .Params.repo }}
                                        <div class="dib accent o-60"><i class="fab fa-github"></i></div>
                                    {{ end }}                                    
                                    {{ .Title }}
                                </a>
                            </div>
                        {{ end }}
                        <div class="ph2 pv3 tl w-100 bt b--black-20">
                            <a class="link dim f5 fw5 black-60" href="/project">
                                <div class="dib accent o-40"><i class="fas fa-angle-double-right"></i></div>
                                All projects
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="fr dib ph3">
                {{ range .Site.Data.social.links }}
                <div class="dib ph1 ph2-ns">
                    <a class="link f4 f3-ns dim" target="_blank" href="{{ .url }}"><i class="{{ .icon }}" style="color: {{ .color }}" ></i></a>
                </div>
                {{ end }}                    
            </div>
        </nav>

        <main style="flex-grow: 1">
                  
