<div class="fl w-100 w-50-m w-25-l pa2 ph3-ns ph4">
    <!-- Nest card for padding (margin on outer container accrues into awkward right margin) -->

    <!-- Icon -->
    {{ $.Scratch.Delete "cardIcon" }}
    {{ if and (isset .Params "icon") (.Params.Icon) }}
        {{ $.Scratch.Set "cardIcon" .Params.Icon }}
    {{ else if .Params.Repo }}
        {{ $.Scratch.Set "cardIcon" "fab fa-github" }}
    {{ end }}

    {{ if ($.Scratch.Get "cardIcon") }}
        <div class="pv2 bg-accent-mono-light bt bl br b--accent-mono">
            <a class="f2 white" href="{{ .Params.repo | default .RelPermalink }}">
                {{ partial "svg-icon.html" (dict "icon" ($.Scratch.Get "cardIcon") "class" "w2 h2 v-mid") }}
            </a>
        </div>
    {{ end }}

    <div class="bl br bb b--accent-mono">
        <!-- Title -->
        <div class="ph3 pt3 tl f3"><a class="link accent" href="{{ .Params.repo | default .RelPermalink }}">{{ .Title }}</a></div>

        <!-- Date -->
        {{ if not .Date.IsZero }}
            <div class="ph3 tl f6 black-60">{{ .Date.Format (.Site.Params.dateFormat | default "January 2, 2006") }}</div>
        {{ end }}

        <!-- Description -->
        {{ if .Description }}
            <div class="ph3 pv2 tl f5">{{ .Description }}</div>
        {{ end }}

        <!-- Tags -->
        {{ range .Params.tags }}
            <div class="ph3 pt3 pb2 tl f6">
                <a class="link accent-mono" href="{{ $.Site.BaseURL }}tags/{{ . | urlize }}"><i class="fas fa-tag"></i> {{ . }}</a>
            </div>
        {{ end }}
    </div>
</div>
